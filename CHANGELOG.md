# سجل التغييرات - نظام إدارة فريق الفعاليات

## التحديث الجديد - إصلاح التوقيت السعودي وتحسين صفحة الأعضاء

### التحسينات المضافة:

#### 1. إصلاح مشكلة التوقيت السعودي (UTC+3)
- تم تحديث جميع استخدامات `datetime.utcnow()` لاستخدام `get_saudi_now()` من `src/utils/timezone.py`
- تم إصلاح التوقيت في:
  - `src/routes/points.py` - تسجيل النقاط
  - `src/routes/members.py` - إضافة الأعضاء وحساب الفترات الزمنية
  - `src/routes/admin.py` - إنشاء المستخدمين
- تم تحديث دالة `get_saudi_date_range()` لدعم الفترات المخصصة

#### 2. تحسين صفحة الأعضاء
- إضافة فلتر "نوع الملاحظات" للاختيار بين الملاحظات الإيجابية والسلبية
- تحديث دالة `get_member_details()` لدعم تصفية الملاحظات حسب النوع والفترة الزمنية
- تحديث واجهة المستخدم لعرض الملاحظات بألوان مختلفة:
  - الملاحظات الإيجابية: باللون الأخضر
  - الملاحظات السلبية: باللون الأحمر

#### 3. التحديثات التقنية
- تحديث `src/static/script.js` لدعم فلتر نوع الملاحظات
- تحديث `src/static/index.html` لإضافة عنصر فلتر نوع الملاحظات
- تحديث `src/static/styles.css` لإضافة تنسيق الألوان للملاحظات الإيجابية والسلبية

### الملفات المعدلة:
- `src/routes/members.py`
- `src/routes/points.py`
- `src/routes/admin.py`
- `src/utils/timezone.py`
- `src/static/script.js`
- `src/static/index.html`
- `src/static/styles.css`

### كيفية الاستخدام:
1. في صفحة الأعضاء، اختر الفترة الزمنية المطلوبة
2. اختر نوع الملاحظات (إيجابية أو سلبية)
3. اضغط على اسم العضو لعرض التفاصيل
4. ستظهر الملاحظات مصفاة حسب النوع والفترة المختارة مع الألوان المناسبة

### ملاحظات:
- الافتراضي لنوع الملاحظات هو "ملاحظات سلبية"
- جميع الأوقات الآن تُحفظ وتُعرض بتوقيت السعودية (UTC+3)
- التصفية تعمل على جميع أنواع الفترات الزمنية (اليوم، الأسبوع، الشهر، فترة مخصصة)

